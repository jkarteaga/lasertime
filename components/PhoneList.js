import React, { PropTypes } from 'react'

function PhoneList({ items }) {
    const phones = items.map((phone, id) => {
        const re = /^(\d)(\d\d\d)(\d\d\d)(\d\d)(\d\d)$/i
        const arr = phone.toString().match(re)
        const formattedPhone = `8 (${arr[2]}) ${arr[3]}-${arr[4]}-${arr[5]}`
        return (
            <a
                href={`tel:+7${arr.slice(2, 6).join('')}`}
                className="PhoneList__link"
            >
                <div key={phone} className="PhoneList__item">
                    {id ?
                        <svg
                            className="PhoneList__icon PhoneList__icon--mobile"
                            xmlns="http://www.w3.org/2000/svg"
                            width="23"
                            height="42"
                            viewBox="0 0 23 42">

                            <path
                                d="M20.33 0H2.67C1.2 0 0 1.3 0 2.88v36.24C0 40.7 1.2 42 2.67 42h17.66C21.8 42 23 40.7 23 39.12V2.88C23 1.3 21.8 0 20.33 0zM6.48 38.68H3.6c-.53 0-.97-.46-.97-1.03 0-.58.44-1.04.97-1.04h2.88c.53 0 .96.5.96 1.1 0 .6-.43 1.07-.96 1.07zm0-3.94H3.6c-.53 0-.97-.47-.97-1.04 0-.57.44-1.03.97-1.03h2.88c.53 0 .96.46.96 1.03 0 .57-.43 1.04-.96 1.04zm0-3.95H3.6c-.53 0-.97-.5-.97-1.1 0-.6.44-1.07.97-1.07h2.88c.53 0 .96.46.96 1.03 0 .6-.43 1.04-.96 1.04zm0-4H3.6c-.53 0-.97-.5-.97-1.08 0-.57.44-1.03.97-1.03h2.88c.53 0 .96.46.96 1.03 0 .6-.43 1.05-.96 1.05zm6.46 11.8h-2.88c-.53 0-.96-.47-.96-1.04 0-.58.43-1.04.96-1.04h2.88c.53 0 .96.46.96 1.04 0 .6-.43 1.05-.96 1.05zm0-3.95h-2.88c-.53 0-.96-.47-.96-1.04 0-.57.43-1.03.96-1.03h2.88c.53 0 .96.45.96 1.02 0 .55-.43 1.02-.96 1.02zm0-3.95h-2.88c-.53 0-.96-.46-.96-1.04 0-.55.43-1 .96-1h2.88c.53 0 .96.44.96 1 0 .6-.43 1.05-.96 1.05zm0-3.95h-2.88c-.53 0-.96-.46-.96-1.03 0-.57.43-1.03.96-1.03h2.88c.53 0 .96.45.96 1.02 0 .58-.43 1.04-.96 1.04zM19.4 38.6h-2.88c-.53 0-.97-.45-.97-1.02 0-.57.44-1.03.97-1.03h2.88c.53 0 .96.46.96 1.04 0 .54-.43 1-.96 1zm0-3.93h-2.88c-.53 0-.97-.44-.97-1 0-.58.44-1.04.97-1.04h2.88c.53 0 .96.46.96 1.03 0 .55-.43 1.02-.96 1.02zm0-3.92h-2.88c-.53 0-.97-.47-.97-1.05 0-.56.44-1.02.97-1.02h2.88c.53 0 .96.47.96 1.04 0 .58-.43 1.04-.96 1.04zm0-3.96h-2.88c-.53 0-.97-.48-.97-1 0-.6.44-1.07.97-1.07h2.88c.53 0 .96.44.96 1 0 .57-.43 1.03-.96 1.03zM2.58 22.4h17.84V3.37H2.58v19z" />
                            <rect x="4" y="4" width="15px" height="16px" fill="#fff" />
                        </svg>
                        :
                        <svg
                            className="PhoneList__icon PhoneList__icon--fixed"
                            xmlns="http://www.w3.org/2000/svg"
                            width="42"
                            height="37" viewBox="0 0 42 42">
                            <path
                                d="M20.8 6.87c6.92.07 11.26-.4 11.85 7.94h8.45C41.1 1.9 30.72.2 20.57.2S.04 1.9.04 14.8h8.4c.63-8.5 5.48-8 12.35-7.93zM4.23 18.97c2.06 0 3.77.13 4.16-2.07v-1.03H0c0 3.27 1.9 3.1 4.23 3.1zm28.47-3.1h-.08c0 .4.04.73.1 1.03.4 2.03 2.1 1.9 4.16 1.9 2.35 0 4.25.17 4.25-2.93H32.7z" />
                            <path
                                d="M28.57 13.64v-1.3c0-.58-.6-.6-1.38-.6h-1.3c-.8 0-1.4.02-1.4.6v2h-8.8v-2c0-.58-.6-.6-1.4-.6h-1.2c-.8 0-1.4.02-1.4.6v2.44c-2 2.26-8.6 11.9-8.8 13.06v7.77c0 .8.5 1.4 1.2 1.4h32c.6 0 1.2-.6 1.2-1.3v-7.9c-.3-1.1-6.8-10.7-8.8-13v-1.1zM15.34 28.88c-.64 0-1.16-.57-1.16-1.27 0-.7.52-1.2 1.16-1.2.64 0 1.17.6 1.17 1.3S16 29 15.4 29zm0-4.34c-.64 0-1.16-.57-1.16-1.27 0-.7.52-1.27 1.16-1.27.64 0 1.17.57 1.17 1.27 0 .7-.5 1.27-1.1 1.27zm0-4.35c-.64 0-1.16-.6-1.16-1.3 0-.7.52-1.3 1.16-1.3.64 0 1.17.5 1.17 1.2S16 20 15.4 20zm4.8 8.6c-.64 0-1.16-.6-1.16-1.3s.52-1.3 1.16-1.3c.64 0 1.17.5 1.17 1.2s-.5 1.3-1.1 1.3zm0-4.4c-.64 0-1.16-.6-1.16-1.3s.52-1.3 1.16-1.3c.64 0 1.17.54 1.17 1.24s-.5 1.26-1.1 1.26zm0-4.4c-.64 0-1.16-.6-1.16-1.3s.52-1.28 1.16-1.28c.64 0 1.17.56 1.17 1.26s-.5 1.3-1.1 1.3zm4.8 8.7c-.64 0-1.17-.6-1.17-1.3s.53-1.28 1.17-1.28c.65 0 1.17.6 1.17 1.3s-.5 1.3-1.1 1.3zm0-4.38c-.64 0-1.17-.57-1.17-1.27s.53-1.3 1.17-1.3c.65 0 1.17.6 1.17 1.3 0 .7-.5 1.25-1.1 1.25zm0-4.35c-.64 0-1.17-.55-1.17-1.25s.53-1.3 1.17-1.3c.65 0 1.17.6 1.17 1.3 0 .7-.5 1.24-1.1 1.24z" />
                        </svg>
                    }

                    {formattedPhone}
                </div>
            </a>

        )
    })
    return (
        <div className="PhoneList">
            <div className="PhoneList__items">
                {phones}
            </div>
        </div>
    )
}

PhoneList.propTypes = {
    items: PropTypes.arrayOf(PropTypes.number).isRequired
}
PhoneList.defaultProps = {}

export default PhoneList
