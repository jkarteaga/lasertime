import React from 'react'
import PropTypes from 'prop-types'

function PhoneList({ items }) {
    const phones = items.map((phone, id) => {
        const re = /^(\d)(\d\d\d)(\d\d\d)(\d\d)(\d\d)$/i
        const arr = phone.toString().match(re)
        const formattedPhone = `8 (${arr[2]}) ${arr[3]}-${arr[4]}-${arr[5]}`
        return id ? (
            <a
                key={phone}
                href={`whatsapp://send?text=Здравствуйте,&nbsp;Алла.&phone=${phone}`}
                className="PhoneList__link"
            >
                <div key={phone} className="PhoneList__item">
                    <svg
                        className="PhoneList__icon PhoneList__icon--mobile"
                        viewBox="0 0 512 512"
                    >
                        <path d="M250.6 12C377 12 479.2 114.4 479.2 240.6c0 126.3-102.3 228.7-228.6 228.7-31 0-60.4-6.2-87.3-17.3L36.5 501.5l31-124C39 339.5 22 292 22 240.5 22 114.5 124.2 12 250.5 12m0 10c-29.5 0-58.2 5.8-85 17.2C139.3 50.2 116 66 96 86c-20 20-36 43.5-47 69.5-11.3 27-17 55.6-17 85 0 47.8 15 93 43.5 131l2.8 4-1 4.5L51 485l108.5-42.3 3.8-1.5 3.7 1.5c26.6 11 54.7 16.6 83.6 16.6 29.5 0 58-5.8 85-17.2 26-11 49.5-26.4 69.6-46.5 20-20 35.8-43.4 46.8-69.5 11.4-27 17.2-55.6 17.2-85s-5.8-58.3-17.2-85.3c-11-26-26.7-49.4-46.8-69.5-20-20-43.5-35.7-69.5-46.7C308.7 28 280 22 250.7 22z" />
                        <path d="M250.6 53.8C147 53.8 63 137.8 63 241.3c0 47.8 18 91.4 47.3 124.6l-19.7 69 72-28.3c26.3 14 56.2 22 88 22C354.2 429 438 345 438 241.2c0-103.5-83.8-187.5-187.4-187.5zm76.7 298c-21.7 1-64.3-4.3-118.7-55.3-51.6-50.5-56-97-55.3-118.6.8-22 29-39 29-39l25 1.6s13.5 38.5 18.3 48c5 9.8 1.6 13.8 1.6 13.8s-14.4 17-17.6 19.3c-3.2 2.4-2.5 5-1.6 6.4 8 14.3 23.5 31 30.3 38.4 7.2 7 24.2 22.4 38.3 30.4 1.5 1 4 1.6 6.5-1.6s19.7-17.7 19.7-17.7 4-3.3 13.6 1.5c9.8 4.8 48.3 18.5 48.3 18.5l1.7 25s-17 28-38.7 29z" />
                    </svg>
                    {formattedPhone}
                </div>
            </a>
        ) : (
            <a
                key={phone}
                href={`tel:+7${arr.slice(2, 6).join('')}`}
                className="PhoneList__link"
            >
                <div key={phone} className="PhoneList__item">
                    <svg
                        className="PhoneList__icon PhoneList__icon--fixed"
                        width="42"
                        height="37"
                        viewBox="0 0 42 42"
                    >
                        <path d="M20.8 6.87c6.92.07 11.26-.4 11.85 7.94h8.45C41.1 1.9 30.72.2 20.57.2S.04 1.9.04 14.8h8.4c.63-8.5 5.48-8 12.35-7.93zM4.23 18.97c2.06 0 3.77.13 4.16-2.07v-1.03H0c0 3.27 1.9 3.1 4.23 3.1zm28.47-3.1h-.08c0 .4.04.73.1 1.03.4 2.03 2.1 1.9 4.16 1.9 2.35 0 4.25.17 4.25-2.93H32.7z" />
                        <path d="M28.57 13.64v-1.3c0-.58-.6-.6-1.38-.6h-1.3c-.8 0-1.4.02-1.4.6v2h-8.8v-2c0-.58-.6-.6-1.4-.6h-1.2c-.8 0-1.4.02-1.4.6v2.44c-2 2.26-8.6 11.9-8.8 13.06v7.77c0 .8.5 1.4 1.2 1.4h32c.6 0 1.2-.6 1.2-1.3v-7.9c-.3-1.1-6.8-10.7-8.8-13v-1.1zM15.34 28.88c-.64 0-1.16-.57-1.16-1.27 0-.7.52-1.2 1.16-1.2.64 0 1.17.6 1.17 1.3S16 29 15.4 29zm0-4.34c-.64 0-1.16-.57-1.16-1.27 0-.7.52-1.27 1.16-1.27.64 0 1.17.57 1.17 1.27 0 .7-.5 1.27-1.1 1.27zm0-4.35c-.64 0-1.16-.6-1.16-1.3 0-.7.52-1.3 1.16-1.3.64 0 1.17.5 1.17 1.2S16 20 15.4 20zm4.8 8.6c-.64 0-1.16-.6-1.16-1.3s.52-1.3 1.16-1.3c.64 0 1.17.5 1.17 1.2s-.5 1.3-1.1 1.3zm0-4.4c-.64 0-1.16-.6-1.16-1.3s.52-1.3 1.16-1.3c.64 0 1.17.54 1.17 1.24s-.5 1.26-1.1 1.26zm0-4.4c-.64 0-1.16-.6-1.16-1.3s.52-1.28 1.16-1.28c.64 0 1.17.56 1.17 1.26s-.5 1.3-1.1 1.3zm4.8 8.7c-.64 0-1.17-.6-1.17-1.3s.53-1.28 1.17-1.28c.65 0 1.17.6 1.17 1.3s-.5 1.3-1.1 1.3zm0-4.38c-.64 0-1.17-.57-1.17-1.27s.53-1.3 1.17-1.3c.65 0 1.17.6 1.17 1.3 0 .7-.5 1.25-1.1 1.25zm0-4.35c-.64 0-1.17-.55-1.17-1.25s.53-1.3 1.17-1.3c.65 0 1.17.6 1.17 1.3 0 .7-.5 1.24-1.1 1.24z" />
                    </svg>
                    {formattedPhone}
                </div>
            </a>
        )
    })
    return (
        <div className="PhoneList">
            <div className="PhoneList__items">{phones}</div>
        </div>
    )
}

PhoneList.propTypes = {
    items: PropTypes.arrayOf(PropTypes.string).isRequired,
}
PhoneList.defaultProps = {}

export default PhoneList
